from __future__ import annotations

from .core import route_text
from .types import RouteResult

__all__ = ["route_text", "RouteResult", "route"]

# Compatibility alias for older runtime expecting 


# Compatibility wrapper for runtimes calling route(..., is_awake=..., etc.)
import inspect

def route(raw, **kwargs):
    """Back-compat entrypoint expected by some runtime/app.py versions."""
    sig = inspect.signature(route_text)
    allowed = set(sig.parameters.keys())
    safe = {k: v for k, v in kwargs.items() if k in allowed}
    return route_text(raw, **safe)

